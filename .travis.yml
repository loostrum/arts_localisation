dist: xenial
language: python
python:
  - '3.6'
  - '3.7'
  - '3.8'
install:
  - pip install sphinx pycodestyle
  - pip install .
script:
  find . -name "*.py" -exec pycodestyle --ignore E501,W503 {} +
after_success:
  - make -C docs/ html
  - touch docs/_build/html/.nojekyll
deploy:
  provider: pages:git
  verbose: true
  token: "$GITHUB_TOKEN"
  edge: true
  local_dir: "./docs/_build/html"
  on:
      branch: docs
