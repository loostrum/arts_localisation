

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Data tool modules &mdash; ARTS Localisation 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Beam model modules" href="beam_models.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ARTS Localisation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core_modules.html">Core modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="beam_models.html">Beam model modules</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Data tool modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-arts_localisation.data_tools.filterbank_reader">Filterbank Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-arts_localisation.data_tools.snr_tools">S/N calculation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-arts_localisation.data_tools.spectra">Spectra</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARTS Localisation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="api.html">API reference</a> &raquo;</li>
        
      <li>Data tool modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/_modules/data_tools.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-tool-modules">
<h1>Data tool modules<a class="headerlink" href="#data-tool-modules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-arts_localisation.data_tools.filterbank_reader">
<span id="filterbank-reader"></span><h2>Filterbank Reader<a class="headerlink" href="#module-arts_localisation.data_tools.filterbank_reader" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">arts_localisation.data_tools.filterbank_reader.</span></code><code class="sig-name descname"><span class="pre">ARTSFilterbankReader</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Filterbank reader for ARTS data, one file per TAB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – path to filterbank files, with {cb:02d} and {tab:02d} for CB and TAB indices</p></li>
<li><p><strong>cb</strong> (<em>int</em>) – CB index</p></li>
<li><p><strong>ntab</strong> (<em>int</em>) – Number of TABs (Default: NTAB from constants)</p></li>
<li><p><strong>median_filter</strong> (<em>bool</em>) – Enable median removal (Default: True)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.get_fil_params">
<code class="sig-name descname"><span class="pre">get_fil_params</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.get_fil_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Read filterbank parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tab</strong> (<em>int</em>) – TAB index (Default: 0)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>nfreq (int), freqs (array), nsamp (int), tsamp (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.get_sb">
<code class="sig-name descname"><span class="pre">get_sb</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sb</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.get_sb" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an SB. TAB data must be read before calling this method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sb</strong> (<em>int</em>) – SB index</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Spectra object with SB data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.load_single_sb">
<code class="sig-name descname"><span class="pre">load_single_sb</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startbin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.load_single_sb" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience tool to read only a single SB and its associated TABs.
<em>Note</em>: Any internal TAB data is cleared after calling this method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sb</strong> (<em>int</em>) – SB index</p></li>
<li><p><strong>startbin</strong> (<em>int</em>) – Index of first time sample to read</p></li>
<li><p><strong>chunksize</strong> (<em>int</em>) – Number of time samples to read</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Spectra object with SB data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.read_filterbank">
<code class="sig-name descname"><span class="pre">read_filterbank</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tab</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startbin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.read_filterbank" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a chunk of filterbank data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tab</strong> (<em>int</em>) – TAB index</p></li>
<li><p><strong>startbin</strong> (<em>int</em>) – Index of first time sample to read</p></li>
<li><p><strong>chunksize</strong> (<em>int</em>) – Number of time samples to read</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>chunk of data with shape (nfreq, chunksize)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.read_tabs">
<code class="sig-name descname"><span class="pre">read_tabs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startbin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tabs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReader.read_tabs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read TAB data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>startbin</strong> (<em>int</em>) – Index of first time sample to read</p></li>
<li><p><strong>chunksize</strong> (<em>int</em>) – Number of time samples to read</p></li>
<li><p><strong>tabs</strong> (<em>list</em>) – which TABs to read (Default: all)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReaderError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">arts_localisation.data_tools.filterbank_reader.</span></code><code class="sig-name descname"><span class="pre">ARTSFilterbankReaderError</span></code><a class="headerlink" href="#arts_localisation.data_tools.filterbank_reader.ARTSFilterbankReaderError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-arts_localisation.data_tools.snr_tools">
<span id="s-n-calculation"></span><h2>S/N calculation<a class="headerlink" href="#module-arts_localisation.data_tools.snr_tools" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arts_localisation.data_tools.snr_tools.calc_snr_amber">
<code class="sig-prename descclassname"><span class="pre">arts_localisation.data_tools.snr_tools.</span></code><code class="sig-name descname"><span class="pre">calc_snr_amber</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.snr_tools.calc_snr_amber" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate peak S/N using the same method as AMBER:
Outliers are removed four times before calculating the S/N as peak - median / sigma
The result is scaled by 1.048 to account for the removed values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array</em>) – timeseries data</p></li>
<li><p><strong>thresh</strong> (<em>float</em>) – sigma threshold for outliers (Default: 3)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>peak S/N</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="arts_localisation.data_tools.snr_tools.calc_snr_matched_filter">
<code class="sig-prename descclassname"><span class="pre">arts_localisation.data_tools.snr_tools.</span></code><code class="sig-name descname"><span class="pre">calc_snr_matched_filter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.snr_tools.calc_snr_matched_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate S/N using several matched filter widths, then pick the highest S/N</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array</em>) – timeseries data</p></li>
<li><p><strong>widths</strong> (<em>list</em>) – matched filters widhts to try
(Default: [1, 5, 10, 25, 50, 100, 250, 500, 1000, 2500])</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>highest S/N (float), corresponding matched filter width (int)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-arts_localisation.data_tools.spectra">
<span id="spectra"></span><h2>Spectra<a class="headerlink" href="#module-arts_localisation.data_tools.spectra" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="arts_localisation.data_tools.spectra.Spectra">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">arts_localisation.data_tools.spectra.</span></code><code class="sig-name descname"><span class="pre">Spectra</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to store spectra. This is mainly to provide
reusable functionality.</p>
<p>Spectra constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freqs</strong> (<em>list</em>) – Observing frequencies for each channel.</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – Sampling time (seconds)</p></li>
<li><p><strong>data</strong> (<em>array</em>) – A 2D numpy array containing pulsar data.
Axis 0 should contain channels. (e.g. data[0,:])
Axis 1 should contain spectra. (e.g. data[:,0])</p></li>
<li><p><strong>starttime</strong> (<em>float</em>) – Start time (in seconds) of the spectra
with respect to the start of the observation.
(Default: 0).</p></li>
<li><p><strong>dm</strong> (<em>float</em>) – Dispersion measure (in pc/cm^3). (Default: 0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Spectra object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.dedisperse">
<code class="sig-name descname"><span class="pre">dedisperse</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.dedisperse" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift channels according to the delays predicted by
the given DM.
<strong>* Dedispersion happens in place *</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dm</strong> (<em>float</em>) – The DM (in pc/cm^3) to use.</p></li>
<li><p><strong>padval</strong> (<em>float/str</em>) – The padding value to use when shifting
channels during dedispersion. See documentation
of Spectra.shift_channels. (Default: 0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.downsample">
<code class="sig-name descname"><span class="pre">downsample</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample the spectra by co-adding
‘factor’ adjacent bins.
<strong>* Downsampling is done in place *</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>factor</strong> (<em>int</em>) – Reduce the number of spectra by this
factor. Must be a factor of the number of
spectra if ‘trim’ is False.</p></li>
<li><p><strong>trim</strong> (<em>bool</em>) – Trim off excess bins.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.get_chan">
<code class="sig-name descname"><span class="pre">get_chan</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.get_chan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.get_spectrum">
<code class="sig-name descname"><span class="pre">get_spectrum</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.get_spectrum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.masked">
<code class="sig-name descname"><span class="pre">masked</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maskval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'median-mid80'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.masked" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace masked data with ‘maskval’. Returns
a masked copy of the Spectra object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> (<em>array</em>) – An array of boolean values of the same size and shape
as self.data. True represents an entry to be masked.</p></li>
<li><p><strong>maskval</strong> (<em>str</em>) – <p>Value to use when masking. This can be a numeric
value, ‘median’, ‘mean’, or ‘median-mid80’.</p>
<p>The values ‘median’ and ‘mean’ refer to the median and
mean of the channel, respectively. The value ‘median-mid80’
refers to the median of the channel after the top and bottom
10% of the sorted channel is removed.
(Default: ‘median-mid80’)</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>maskedspec: A masked version of the Spectra object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.scaled">
<code class="sig-name descname"><span class="pre">scaled</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.scaled" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a scaled version of the Spectra object.
When scaling subtract the median from each channel,
and divide by global std deviation (if indep==False), or
divide by std deviation of each row (if indep==True).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>indep</strong> (<em>bool</em>) – If True, scale each row
independently (Default: False).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>scaled_spectra: A scaled version of the
Spectra object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.scaled2">
<code class="sig-name descname"><span class="pre">scaled2</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.scaled2" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a scaled version of the Spectra object.
When scaling subtract the min from each channel,
and divide by global max (if indep==False), or
divide by max of each row (if indep==True).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>indep</strong> (<em>bool</em>) – If True, scale each row
independently (Default: False).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>scaled_spectra: A scaled version of the
Spectra object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.shift_channels">
<code class="sig-name descname"><span class="pre">shift_channels</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.shift_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift each channel to the left by the corresponding
value in bins, an array.
<strong>* Shifting happens in-place *</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bins</strong> (<em>array</em>) – An array containing the number of bins
to shift each channel by.</p></li>
<li><p><strong>padval</strong> (<em>float/str</em>) – <p>Value to use when shifting near the edge
of a channel. This can be a numeric value,
‘median’, ‘mean’, or ‘rotate’.</p>
<p>The values ‘median’ and ‘mean’ refer to the
median and mean of the channel. The value
‘rotate’ takes values from one end of the
channel and shifts them to the other.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.smooth">
<code class="sig-name descname"><span class="pre">smooth</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth each channel by convolving with a top hat
of given width. The height of the top had is
chosen shuch that RMS=1 after smoothing.
Overlap values are determined by ‘padval’.
This bit of code is taken from Scott Ransom’s
PRESTO’s single_pulse_search.py (line ~ 423).
<strong>* Smoothing is done in place. *</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<em>int</em>) – Number of bins to smooth by (Default: no smoothing)</p></li>
<li><p><strong>padval</strong> (<em>float/str</em>) – Padding value to use. Possible values are
float-value, ‘mean’, ‘median’, ‘wrap’.
(Default: 0).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.subband">
<code class="sig-name descname"><span class="pre">subband</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.subband" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce the number of channels to ‘nsub’ by subbanding.
The channels within a subband are combined using the
DM ‘subdm’. ‘padval’ is passed to the call to
‘Spectra.shift_channels’.
<strong>* Subbanding happens in-place *</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nsub</strong> (<em>int</em>) – Number of subbands. Must be a factor of
the number of channels.</p></li>
<li><p><strong>subdm</strong> (<em>float</em>) – The DM with which to combine channels within
each subband (Default: don’t shift channels
within each subband)</p></li>
<li><p><strong>padval</strong> (<em>float/str</em>) – The padding value to use when shifting
channels during dedispersion. See documentation
of Spectra.shift_channels. (Default: 0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arts_localisation.data_tools.spectra.Spectra.trim">
<code class="sig-name descname"><span class="pre">trim</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.Spectra.trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim the end of the data by ‘bins’ spectra.
<strong>* Trimming is done in place *</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bins</strong> (<em>int</em>) – Number of spectra to trim off the end of the observation.
If bins is negative trim spectra off the beginning of the
observation.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="arts_localisation.data_tools.spectra.delay_from_DM">
<code class="sig-prename descclassname"><span class="pre">arts_localisation.data_tools.spectra.</span></code><code class="sig-name descname"><span class="pre">delay_from_DM</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">DM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_emitted</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.delay_from_DM" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the delay in seconds caused by dispersion, given
a Dispersion Measure in cm-3 pc, and the emitted
frequency of the pulsar in MHz.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>DM</strong> (<em>float</em>) – dispersion measure</p></li>
<li><p><strong>freq_emitted</strong> (<em>float</em>) – frequency</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="arts_localisation.data_tools.spectra.rotate">
<code class="sig-prename descclassname"><span class="pre">arts_localisation.data_tools.spectra.</span></code><code class="sig-name descname"><span class="pre">rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arts_localisation.data_tools.spectra.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array rotated by ‘bins’ places to the left</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>list</em>) – Input data</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Number of bins to rotate by</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="beam_models.html" class="btn btn-neutral float-left" title="Beam model modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Leon Oostrum.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>